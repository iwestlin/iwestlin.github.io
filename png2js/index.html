<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8">
  <title>document</title>
</head>

<body>
<p>code from <a href="https://imququ.com/post/code2png-encoder.html">here</a></p>
<h2>来找找MD5函数的定义在哪里？</h2>
<input type="text" id="text">
<button onclick="haha()">MD5</button>
<span id='result'></span>
  <script type="text/javascript">
  var text = document.getElementById('text');
  var result = document.getElementById('result');
  function haha() {
    result.innerHTML = md5(text.value);
  }

  var Decode = function(b) {
    var e;
    e = [];
    var a = b.width,
      c = b.height,
      d = document.createElement("canvas");
    d.width = a;
    d.height = c;
    d = d.getContext("2d");
    d.drawImage(b, 0, 0);
    b = d.getImageData(0, 0, a, c);
    for (d = 0; d < a * c * 4; d += 4)[].push.apply(e, [].slice.call(b.data, d, d + 3));
    for (a = e.length - 1; 0 === e[a];) {
      e = e.slice(0, a);
      a = a - 1;
    }
    a = "";
    for (c = 0; c < e.length; c += 7)
      for (b = 0; 8 > b; b++) {
        d = ((0 === b ? 0 : e[c + b - 1]) << 7 - b & 127) + ((7 == b ? 0 : e[c + b]) >> b + 1), a += 0 === d ? "" : String.fromCharCode(d);
      }
    return a;
  };

  var img = new Image();
  img.onload = function() {
    Function(Decode(img))();
    // document.write("hello的md5值是：" + md5('hello'));
  };
  img.crossOrigin = '*'; //如果不加此行则可能会因跨域安全策略请求失败无法加载图片
  img.src = location.href + 'code.png';
  // img.src = 'http://7fvfmf.com1.z0.glb.clouddn.com/md5code.png';
  </script>
</body>

</html>
